<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="Description" content="mkjose offers a mechanism to generate JOSE, JSON Object Signing and Encryption, from a given payload and JWK easily.">
  <title>mkjose</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <script src="script/index.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
</head>
<body class="font-default">

  <section class="hero is-dark">
    <div class="hero-body">
      <div class="container">
        <div id="language-switch" class="is-pulled-right">
          English |
          <a href="index.ja.html">日本語</a>
        </div>
        <h1 class="title is-size-1">
          mkjose
        </h1>
        <h3 class="subtitle">
          simple JOSE generator
        </h3>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <form id="jose-input" name="jose-input" action="post">

        <div class="level is-mobile">
          <div class="level-left">
            <div class="level-item">
              <div class="field">
                <label class="label is-medium">Payload</label>
              </div>
            </div>
          </div>
          <div class="level-right">
            <div class="level-item">
              <div class="field">
                <a class="button is-light" onClick="payload_request_object();">Request Object</a>
              </div>
            </div>
            <div class="level-item">
              <div class=field>
                <a class="button is-light" onClick="payload_ciba();">CIBA</a>
              </div>
            </div>
            <div class="level-item">
              <div class=field>
                <a class="button is-light"  onClick="payload_clear();"><i class="far fa-trash-alt"></i></a>
              </div>
            </div>
          </div>
        </div>

        <div class="field">
          <div class="control">
            <textarea class="textarea" id="payload" name="payload" rows=10 spellcheck="false"></textarea>
          </div>
        </div>

        <div class="field">
          <label class="label is-medium">Signing Algorithm</label>
          <div class="control">
            <div class="select">
              <select id="signing-alg" name="signing-alg">
                <option value="none"><code>none</code></option>
                <option value="HS256"><code>HS256</code> (HMAC using SHA-256)</option>
                <option value="HS384"><code>HS384</code> (HMAC using SHA-384)</option>
                <option value="HS512"><code>HS512</code> (HMAC using SHA-512)</option>
                <option value="RS256"><code>RS256</code> (RSASSA-PKCS1-v1_5 using SHA-256)</option>
                <option value="RS384"><code>RS384</code> (RSASSA-PKCS1-v1_5 using SHA-384)</option>
                <option value="RS512"><code>RS512</code> (RSASSA-PKCS1-v1_5 using SHA-512)</option>
                <option value="ES256"><code>ES256</code> (ECDSA using P-256 and SHA-256)</option>
                <option value="ES384"><code>ES384</code> (ECDSA using P-384 and SHA-384)</option>
                <option value="ES512"><code>ES512</code> (ECDSA using P-521 and SHA-512)</option>
                <option value="PS256"><code>PS256</code> (RSASSA-PSS using SHA-256 and MGF1 with SHA-256)</option>
                <option value="PS256"><code>PS384</code> (RSASSA-PSS using SHA-384 and MGF1 with SHA-384)</option>
                <option value="PS256"><code>PS512</code> (RSASSA-PSS using SHA-512 and MGF1 with SHA-512)</option>
              </select>
            </div>
          </div>
        </div>

      <div class="level is-mobile">
          <div class="level-left">
            <div class="level-item">
              <div class="field">
                <label class="label is-medium">Signing Key</label>
              </div>
            </div>
          </div>
          <div class="level-right">
            <div class="level-item">
              <div class="field">
                <a class="button is-light" onClick="signing_alg_rsa();">RSA</a>
              </div>
            </div>
            <div class="level-item">
              <div class=field>
                <a class="button is-light" onClick="signing_alg_ec();">EC</a>
              </div>
            </div>
            <div class="level-item">
              <div class=field>
                <a class="button is-light" onClick="signing_alg_oct('Input the shared key');">oct</a>
              </div>
            </div>
            <div class="level-item">
              <div class=field>
                <a class="button is-light" onClick="signing_alg_clear();"><i class="far fa-trash-alt"></i></a>
              </div>
            </div>
          </div>
        </div>

        <div class="field">
          <div class="control">
            <textarea class="textarea" id="jwk-signing-alg" name="jwk-signing-alg" rows="10" spellcheck="false"></textarea>
          </div>
        </div>

        <div class="field">
          <div class="control">
            <button class="button is-primary is-large is-fullwidth" id="generate" name="generate" type="button" onClick="generate_jose();">Generate</button>
          </div>
        </div>
      </form>
    </div>
  </section>

  <div class="container"><p id="jose-error" name="jose-error"></p></div>

  <section class="section">
    <div class="container">
      <div class="field">
        <label class="label is-medium">Output</label>
        <textarea class="textarea" id="jose-output" name="jose-output" rows="10" spellcheck="false" readonly></textarea>
      </div>
      <div class="control">
        <button class="button is-primary is-large is-fullwidth" id="copy-to-clipboard" name="copy-to-clipboard" onClick="copy_to_clipboard();">Copy to Clipboard</button>
      </div>
    </div>
  </section>

  <div class="modal" id="modal-payload-request-object">
    <div class="modal-background" onClick="close_modal('modal-payload-request-object');"></div>
    <div class="modal-content">
      <div class="card">
        <header class="card-header">
          <p class="card-header-title">Payload for Request Object</p>
          <a class="card-header-icon" aria-label="more options">
              <button class="delete" aria-label="close" onClick="close_modal('modal-payload-request-object');"></button>
          </a>
        </header>
        <div class="card-content">
          <table class="table">
            <tr>
              <td><code>exp</code></td>
              <td><input id="ro-exp" type="datetime-local"></td>
              <td><button type="button" onClick="clear_by_id('ro-exp');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>iss</code></td>
              <td><input id="ro-iss" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-iss');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>aud</code></td>
              <td><input id="ro-aud" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-aud');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>scope</code></td>
              <td><input id="ro-scope" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-scope');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>response_type</code></td>
              <td><input id="ro-response_type" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-response_type');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>client_id</code></td>
              <td><input id="ro-client_id" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-client_id');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>redirect_uri</code></td>
              <td><input id="ro-redirect_uri" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-redirect_uri');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>state</code></td>
              <td><input id="ro-state" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-state');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>nonce</code></td>
              <td><input id="ro-nonce" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-nonce');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>max_age</code></td>
              <td><input id="ro-max_age" type="number" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-max_age');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>code_challenge</code></td>
              <td><input id="ro-code_challenge" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ro-code_challenge');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>code_challenge_method</code></td>
              <td>
                <select id="ro-code_challenge_method">
                  <option value="">Select...</option>
                  <option value="plain"><code>plain</code></option>
                  <option value="S256"><code>S256</code></option>
                </select>
              </td>
              <td><button type="button" onClick="clear_by_id('ro-code_challenge_method');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>claims</code></td>
              <td><textarea id="ro-claims" rows="5" cols="50" spellcheck="false"></textarea></td>
              <td><button type="button" onClick="clear_by_id('ro-claims');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td>Arbitrary JSON</td>
              <td><textarea id="ro-arbitrary_json" rows="5" cols="50" spellcheck="false"></textarea></td>
              <td><button type="button" onClick="clear_by_id('ro-arbitrary_json');"><i class="far fa-trash-alt"></i></td>
            </tr>
          </table>
        </div>
        <footer class="card-footer">
          <a class="card-footer-item" onClick="modal_payload_request_object_apply();">Apply</a>
          <a class="card-footer-item" onClick="modal_payload_request_object_close();">Close</a>
          <a class="card-footer-item" onClick="modal_payload_request_object_apply_and_close();">Apply & Close</a>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal" id="modal-payload-ciba">
    <div class="modal-background" onClick="close_modal('modal-payload-ciba');"></div>
    <div class="modal-content">
      <div class="card">
        <header class="card-header">
          <p class="card-header-title">Payload for Backchannel Authentication Request of CIBA</p>
          <a class="card-header-icon" aria-label="more options">
              <button class="delete" aria-label="close" onClick="close_modal('modal-payload-ciba');"></button>
          </a>
        </header>
        <div class="card-content">
          <table class="table">
            <tr>
              <td><code>exp</code></td>
              <td><input id="ciba-exp" type="datetime-local"></td>
              <td><button type="button" onClick="clear_by_id('ciba-exp');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>nbf</code></td>
              <td><input id="ciba-nbf" type="datetime-local"></td>
              <td><button type="button" onClick="clear_by_id('ciba-nbf');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>iss</code></td>
              <td><input id="ciba-iss" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-iss');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>aud</code></td>
              <td><input id="ciba-aud" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-aud');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>scope</code></td>
              <td><input id="ciba-scope" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-scope');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>client_notification_token</code></td>
              <td><input id="ciba-client_notification_token" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-client_notification_token');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>acr_values</code></td>
              <td><input id="ciba-acr_values" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-acr_values');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>login_hint_token</code></td>
              <td><input id="ciba-login_hint_token" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-login_hint_token');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>id_token_hint</code></td>
              <td><input id="ciba-id_token_hint" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-id_token_hint');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>login_hint</code></td>
              <td><input id="ciba-login_hint" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-login_hint');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>binding_message</code></td>
              <td><input id="ciba-binding_message" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-binding_message');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>user_code</code></td>
              <td><input id="ciba-user_code" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-user_code');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>requested_expiry</code></td>
              <td><input id="ciba-requested_expiry" type="number" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-requested_expiry');"><i class="far fa-trash-alt"></i></td>
            </tr>
            <tr>
              <td><code>request_context</code></td>
              <td><input id="ciba-request_context" type="text" size="60"></td>
              <td><button type="button" onClick="clear_by_id('ciba-request_context');"><i class="far fa-trash-alt"></i></td>
            </tr>
          </table>
        </div>
        <footer class="card-footer">
          <a class="card-footer-item" onClick="modal_payload_ciba_apply();">Apply</a>
          <a class="card-footer-item" onClick="modal_payload_ciba_close();">Close</a>
          <a class="card-footer-item" onClick="modal_payload_ciba_apply_and_close();">Apply & Close</a>
        </footer>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container is-size-5">
      <ul>
        <li>
          This service is provided as a free service by <a href="https://www.authlete.com/">Authlete, Inc</a>, and will never log or store any input data and keys.
        </li>
        <li>
          The source code of the server and the JOSE generator used in the background are available at <a href="https://github.com/authlete/mkjose">authlete/mkjose</a> and <a href="https://github.com/authlete/authlete-jose">authlete/authlete-jose</a>, respectively.
        </li>
      </ul>
    </div>
  </footer>

</body>
</html>
